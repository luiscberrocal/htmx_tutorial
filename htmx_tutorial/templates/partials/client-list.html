<div class="d-flex justify-content-between align-items-center">
  <p class="lead ml-0">Clients</p>
  <form hx-post="{% url 'clients:add-client' %}" hx-target='#client-list' class="d-flex align-items-center">
    {% csrf_token %}
    <input type="text" name="client-name" class="form-control-sm mr-2" placeholder="Enter a client  name"/>
    <button type="submit" class="btn btn-success btn-sm">Add Client</button>
  </form>
</div>
<hr/>
<div class="d-flex justify-content-between">

  <section class="col-6">

    {% if messages %}
      <ul class="messages" hx-get="{% url 'clients:clear-messages' %}" hx-trigger="load delay:3s">
        {% for message in messages %}
          <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }} {{ message.tags }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    {% if clients %}
      <form class="sortable list-group col-12" hx-trigger="end" hx-post="{% url 'clients:sort-client' %}"
            hx-target="#client-list">
        <div class="htmx-indicator">Updating...</div>
          {% for client in clients %}
            <div class="row">
              <input type="hidden" name="client_order" value="{{ client.pk }}"/>
              <div class="col">
                <a hx-get="{% url 'clients:detail-client' client.pk %}" hx-target="#client-list">
                  {{ client.display_order }}. {{ client.last_name }}, {{ client.first_name }} ({{ client.pk }})
                </a>
              </div>
              <div class="col-auto">
              <span class="btn btn-sm btn-danger" style="cursor: pointer;"
                    hx-delete="{% url 'clients:delete-client' client.id %}"
                    hx-target="#client-list"><i class="bi-trash"></i></span>
              </div>
            </div>
          {% endfor %}
      </form>
    {% else %}
      <p>You do not have any clients in your list</p>
    {% endif %}
  </section>

  <section class="col-4 offset-1">
    {% include 'partials/search.html' %}
  </section>
</div>
